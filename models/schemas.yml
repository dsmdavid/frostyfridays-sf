version: 2
sources:
  - name: account_usage
    database: SNOWFLAKE
    schema: account_usage
    tables:
      - name: access_history
      - name: tag_references
      - name: query_history
  - name: ch_09
    database: '{{ target.database }}'
    schema: '{{ target.schema }}'
    tables:
      - name: data_to_be_masked
    
models:
  - name: challenge_01
    description: '{{ doc("challenge01") }}'
    columns:
    - name: filename_
      description: full path of the original filename
    - name: row_
      description: original row order inside the file
    - name: result
      description: whatever existed here.
  - name: challenge_02
    description: base table derived from the parquet file.
  - name: challenge_02_v
    description: '{{ doc("challenge02") }}'
  - name: challenge_03
    description: '{{ doc("challenge03") }}'
    columns:
      - name: name
        description: original filename including path
  - name: challenge_04_03
    description: '{{ doc("challenge04") }}'
  - name: challenge_05
    description: '{{ doc("challenge05") }}'
  - name: challenge_07
    description: '{{ doc("challenge07") }}'
  - name: challenge_06_01
    description: Reads the headers for the different files.
  - name: challenge_06_02
    description: >
      raw data nation and regions,
      needed otherwise snowflake errors
      when using all as views directly from stage.
  - name: challenge_06_03
    description: >
      raw data constituencies,
      needed otherwise snowflake errors
      when using all as views directly from stage.
  - name: challenge_06_02b
    description: create polygons and aggregates
  - name: challenge_06_03b
    description: create polygons and aggregates
  - name: challenge_06_04
    description: '{{ doc("challenge06") }}'

  - name: challenge_09_04
    description: '{{ doc("challenge09") }}'
  - name: challenge_11
    description: '{{ doc("challenge11") }}'
  - name: challenge_13_02
    description: '{{ doc("challenge13") }}'

    